<script type="text/html" data-template-name="filter_ui">
    <div class="form-row">
        <label for="node-input-name">Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-attribute">Attribute</label>
        <input type="text" id="node-input-attribute" placeholder="JSON Data Attribute">
    </div>
    <div class="form-row">
        <label for="node-input-operator">Operator</label>
        <input type="text" id="node-input-operator" placeholder="Query Operator">
    </div>
    <div class="form-row">
        <label for="node-input-value">Value</label>
        <input type="text" id="node-input-value" placeholder="Condition's Value">
    </div>
</script>

<script type="text/html" data-help-name="filter_ui">
    <p>
        <b>Attribute</b><br/>
        <span>You can provide your data attribute inside JSON array data. For example you have JSON data <br/>
        <code>[{<br/>
        &nbsp;&nbsp;"name":"David",<br/>
        &nbsp;&nbsp;"age":"25",<br/>
        &nbsp;&nbsp;"sex":"M"<br/>
        },{<br/>
        &nbsp;&nbsp;"name":"Sarah",<br/>
        &nbsp;&nbsp;"age":"23",<br/>
        &nbsp;&nbsp;"sex":"F"<br/>
        },{<br/>
        &nbsp;&nbsp;"name":"Montana",<br/>
        &nbsp;&nbsp;"age":"27",<br/>
        &nbsp;&nbsp;"sex":"F"<br/>
        },{<br/>
        &nbsp;&nbsp;"name":"Steve",<br/>
        &nbsp;&nbsp;"age":"23",<br/>
        &nbsp;&nbsp;"sex":"M"<br/>
        }]</code><br/>
        You can provide attribute format like <code>age</code> or multiple atrribute like <code>ageANDsex</code>, <code>ageORsex</code>, <code>ageANDsexORname</code></span>
    </p>
    <p style="margin-bottom: 0px;">
        <b>Operation</b>
    </p>
    <ul style="margin-top: 0px;">
        <li>equals</li>
        <li>notEquals</li>
        <li>contains</li>
        <li>notContains</li>
        <li>greater</li>
        <li>greaterEquals</li>
        <li>less</li>
        <li>lessEquals</li>
        <li>starts</li>
        <li>ends</li>
        <li>between</li>
        <li>betweenEquals</li>
        <li>empty</li>
        <li>notEmpty</li>
    </ul>
    <p>
        <b>Operator</b><br/>
        <span>Operator are set of operation functionality you can use to query your JSON array data. Operator must follow the sequence of your Attribute information. For example in your Attribute set <code>ageORsex</code> then the operator will be <code>equalsORequals</code>, the operation can choose from Operation list above.</span>
    </p>
    <p>
        <b>Value of Condition</b><br/>
        <span>Value are set of value following the sequence of Attribute and Operator. For example your Attribute set like this <code>ageORsex</code> and the Operator set like this <code>equalsORequals</code> then your Value can set like this <code>27ORM</code></span>
    </p>
    <p>
        <b>Usage</b><br/>
        <span>You can use this filter_ui node by providing node which return string of JSON array data inside the <code>msg.payload</code>.</span><br/><br/>
        <span>You can use combine this filter_ui node with ither filter_ui.</span><br/><br/>
        <span>This node will return your JSON array data on string format, to get the data in JSON array data format you need to combine with the JSON parse node in parser category.</span>
    </p>
</script>

<script type="text/javascript">
    RED.nodes.registerType('filter_ui', {
        category: 'NowDB',
        color: '#FB6CBB',
        defaults: {
            name: {
                value: ""
            },
            attribute: {
                value: "",
                required: true
            },
            operator: {
                value: "",
                required: true
            },
            value: {
                value: "",
                required: true
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "function.png",
        paletteLabel: 'filter ui',
        align: 'left',
        label: function() {
            return this.name || "filter_ui";
        }
    });
</script>